name: App Python
on:
  workflow_dispatch:
    inputs:
      name:
        description: "Digite seu nome"
        required: true
        default: "Desenvolvedor"
      ambiente:
        description: "Escolha o ambiente"
        required: true
        type: choice
        options:
          - "development"
          - "Production"
jobs:
  info:
    runs-on: ubuntu-latest
    steps:
      - name: "Mostrar Mensagem"
        run: echo "OlÃ¡! Este Ã© um workflow de exemplo para Python."
      - name: "Exibir VersÃ£o do Python"
        run: python --version
      - name: "Falar com vocÃª"
        id: saudacao
        run: |
          echo "OlÃ¡, ${{ github.event.inputs.name }}! Bem-vindo ao GitHub Actions."
          echo "usuario=${{ github.event.inputs.name }}" >> $GITHUB_OUTPUT
          echo "data=$(date)" >> $GITHUB_OUTPUT
      - name: "ðŸŽ‰ Step Secreto"
        if: github.event.inputs.name == 'especial'
        run: echo "ðŸŽ‰ ParabÃ©ns! VocÃª descobriu o step secreto!"
      - name: "ðŸš€ Super Secreto"
        if: github.event.inputs.name == 'super'
        run: echo "ðŸš€ Wow! NÃ­vel super alcanÃ§ado!"
      - name: "ðŸ‘‘ Mestre secreto!"
        if: github.event.inputs.name == 'mestre'
        run: echo "ðŸ‘‘ VocÃª Ã© o mestre dos GitHub Actions!"
      - name: "Usar Output"
        run: |
          echo "Dados recebidos do step anterior:"
          echo "UsuÃ¡rio: ${{ steps.saudacao.outputs.usuario }}"
          echo "Data: ${{ steps.saudacao.outputs.data }}"
      - name: "ðŸ“„ Criar relatÃ³rio"
        run: |
          echo "=== RELATÃ“RIO DO WORKFLOW ===" > relatorio.txt
          echo "UsuÃ¡rio: ${{ github.event.inputs.name }}" >> relatorio.txt
          echo "Data: $(date)" >> relatorio.txt
          echo "Sistema: $(uname -a)" >> relatorio.txt
          echo "Workflow executado com sucesso!" >> relatorio.txt
      - name: "ðŸ“¤ Salvar relatÃ³rio"
        uses: actions/upload-artifact@v4
        with:
          name: relatorio-workflow
          path: relatorio.txt
  sistema:
    needs: info
    runs-on: ubuntu-latest
    steps:
      - name: "Sistema Operacional"
        run: uname -a
      - name: "ðŸ“¥ Baixar relatÃ³rio"
        uses: actions/download-artifact@v4
        with:
          name: relatorio-workflow
      - name: "ðŸ“– Ler relatÃ³rio"
        run: |
          echo "=== CONTEÃšDO DO RELATÃ“RIO ==="
          cat relatorio.txt
          echo "=== FIM DO RELATÃ“RIO ==="
  teste-matrix:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.9, 3.10, 3.11]
    steps:
      - name: "Setup Python ${{ matrix.python-version }}"
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: "Testar Python"
        run: |
          echo "Testando Python ${{ matrix.python-version }}"
          python --version